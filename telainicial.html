<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Início - Pedro (Mock)</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{
            --primary-start: #1462d8;
            --primary-end: #0b3e86;
            --muted: rgba(255,255,255,0.65);
            --dark-text: #333333;
        }
        body{
            font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
            background: linear-gradient(180deg, var(--primary-start) 0%, var(--primary-end) 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
            height: 100vh;
        }
        .phone{
            width: 100%;
            max-width: 400px;
            height: 100vh;
            background-color: var(--primary-start);
            border-radius: 0;
            box-shadow: none;
            overflow-y: auto;
            position: relative;
        }
        .screen{
            padding: 0;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            color: white;
            padding-bottom: 70px;
        }
        .main-content {
            background-color: white;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            padding: 24px 18px;
            color: var(--dark-text);
            flex-grow: 1;
            margin-top: 15px;
        }
        .header-blue {
            padding: 18px 18px 0 18px;
            color: white;
            padding-bottom: 10px;
        }
        .quick-action-btn {
            background-color: white;
            color: var(--dark-text);
            border-radius: 12px;
            padding: 10px 0;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .service-icon {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #eef4ff;
            border-radius: 12px;
            padding: 16px 8px;
            height: 60px;
            text-align: center;
            font-size: 12px;
            font-weight: 600;
            color: var(--dark-text);
            cursor: pointer;
        }
        .footer-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 400px;
            background-color: white;
            border-top: 1px solid #e5e7eb;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            padding: 8px 0;
            z-index: 10;
        }
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: #71717a;
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
        }
        .nav-item.active {
            color: var(--primary-start);
            font-weight: 600;
        }
        .nav-item svg {
            width: 22px;
            height: 22px;
            margin-bottom: 2px;
            stroke: currentColor;
        }
        .nav-item.active svg {
            fill: currentColor;
            stroke: currentColor;
        }
        .banner-image-placeholder {
            /* Bola removida, só azul gradiente */
            background: none;
        }
        #activation-toast {
            visibility: hidden;
            background-color: var(--dark-text);
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 12px 20px;
            position: fixed;
            z-index: 100;
            bottom: 30px;
            width: calc(100% - 40px);
            max-width: 360px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s, bottom 0.3s;
        }
        #activation-toast.show {
            visibility: visible;
            opacity: 1;
            bottom: 80px;
        }
    </style>
</head>
<body>
<div class="phone">
    <div class="screen">
        <div class="header-blue">
            <div class="flex items-center justify-between mb-8">
                <div class="flex items-center gap-3">
                    <!-- A imagem do avatar será gerada dinamicamente -->
                    <img id="user-avatar" src="" alt="avatar" class="w-10 h-10 rounded-full border-2 border-white" />
                    <!-- O nome do usuário será inserido aqui -->
                    <div id="user-greeting" class="text-lg font-semibold"></div>
                </div>
                <!-- Ícone de Sair (Logout) -->
                <a href="#" onclick="logout()" title="Sair do aplicativo">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75" />
                    </svg>
                </a>
            </div>

            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-2">
                    <div id="saldo-valor" class="text-2xl font-bold"></div>
                    <svg id="saldo-toggle" onclick="toggleSaldo()" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-white/80 cursor-pointer">
                        <path id="eye-open" stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.575 3.01 9.963 7.183.072.274.072.569 0 .843-.072.274-3.424 4.81-9.963 4.81-4.64 0-8.577-3.01-9.963-7.183Z" />
                        <path id="eye-open-center" stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                    </svg>
                </div>
                <a href="extrato.html" class="text-sm font-semibold flex items-center gap-1 text-white/80">
                    Ver extrato
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                    </svg>
                </a>
            </div>
        </div>

        <div class="main-content">
            <div class="grid grid-cols-3 gap-2 mb-6">
                <a href="pix.html" class="quick-action-btn">Pix</a>
                <a href="#" class="quick-action-btn" onclick="showActivationMessage(event)">Pagar conta</a>
                <a href="credito.html" class="quick-action-btn">Crédito</a>
            </div>

            <div class="bg-[#1462d8] p-4 rounded-lg flex items-center justify-between text-white mb-6" style="background-image: linear-gradient(to right, #1462d8, #0b3e86); min-height: 100px;">
                <div class="w-2/3">
                    <div class="font-bold text-lg mb-1">Crédito Consignado:</div>
                    <p class="text-xs">Dinheiro na conta em até 24h para resolver sua vida!</p>
                    <button class="mt-2 bg-white text-[#1462d8] font-semibold text-sm px-3 py-1 rounded-full">Contrate agora!</button>
                </div>
                <!-- Bola removida, espaço da direita vazio -->
                <div class="w-1/3 flex justify-end"></div>
            </div>

            <div class="grid grid-cols-3 gap-x-4 gap-y-6">
                <a href="emprestimo.html" class="service-icon">Empréstimos</a>
                <a href="emprestimofgts.html" class="service-icon">FGTS</a>
                <a href="emprestimoconsig.html" class="service-icon">Consignado</a>
                <a href="emprestimopessoal.html" class="service-icon">Pessoal</a>
                <a href="salario.html" class="service-icon">Trazer salário</a>
                <a href="#" class="service-icon" onclick="showActivationMessage(event)">Seguro</a>
            </div>
        </div>
    </div>

    <div class="footer-nav">
        <a href="#" class="nav-item active">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.441-.43 1.227-.43 1.668 0l8.955 8.955a1.5 1.5 0 0 1-1.06 2.565H3.313a1.5 1.5 0 0 1-1.06-2.565Z"/>
            </svg>
            Início
        </a>
        <a href="#" class="nav-item" onclick="showActivationMessage(event)">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h13.5"/>
            </svg>
            Conta
        </a>
        <a href="#" class="nav-item" onclick="showActivationMessage(event)">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"/>
            </svg>
            Serviços
        </a>
        <a href="#" class="nav-item" onclick="showActivationMessage(event)">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <circle cx="12" cy="12" r="9"/>
            </svg>
            Investir
        </a>
        <a href="#" class="nav-item" onclick="showActivationMessage(event)">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14"/>
            </svg>
            Mais
        </a>
    </div>
</div>

<div id="activation-toast">🚧 Função em ativação. Tente novamente mais tarde.</div>

<script>
// *** NOSSA NOVA LÓGICA ***
const SALDO_CONTA = "5220.00"; // Valor centralizado

document.addEventListener('DOMContentLoaded', () => {
    const userData = JSON.parse(localStorage.getItem('userData'));
    let userName = "Usuário"; // Nome padrão

    // Define e salva o saldo se ainda não existir
    if (!localStorage.getItem('userBalance')) {
        localStorage.setItem('userBalance', SALDO_CONTA);
    }
    const userBalance = parseFloat(localStorage.getItem('userBalance')).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

    // Atualiza o saldo na tela
    const saldoElement = document.getElementById('saldo-valor');
    saldoElement.textContent = userBalance;

    if (userData && userData.nome) {
        // Pega o primeiro nome para a saudação
        userName = userData.nome.split(' ')[0];
    }

    // Atualiza a saudação
    const greetingElement = document.getElementById('user-greeting');
    greetingElement.textContent = `Olá, ${userName}!`;

    // Atualiza o avatar com a inicial do nome
    const avatarElement = document.getElementById('user-avatar');
    const userInitial = userName.charAt(0).toUpperCase();
    avatarElement.src = `https://ui-avatars.com/api/?name=${userInitial}&background=0b3e86&color=ffffff&size=48&font-size=0.5`;
});

/**
 * Limpa todos os dados do usuário (localStorage) e redireciona para a tela de início.
 */
function logout() {
    // Pede confirmação ao usuário antes de sair
    const confirmLogout = confirm("Você tem certeza que deseja sair?");
    
    if (confirmLogout) {
        // Limpa todos os dados salvos no navegador
        localStorage.clear();
        // Redireciona para a tela de splash para reiniciar o fluxo
        window.location.href = 'index.html';
    }
}

function toggleSaldo() {
    const saldo = document.getElementById("saldo-valor");
    if (saldo.innerText.includes("R$")) {
        saldo.innerText = "••••••";
    } else {
        const userBalance = parseFloat(localStorage.getItem('userBalance')).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        saldo.innerText = userBalance;
    }
}
function showActivationMessage(e) {
    e.preventDefault();
    const toast = document.getElementById("activation-toast");
    toast.classList.add("show");
    setTimeout(() => toast.classList.remove("show"), 2500);
}
</script>
</body>
</html>
